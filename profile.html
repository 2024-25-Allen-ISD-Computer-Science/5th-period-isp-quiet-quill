<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">
<title>Profile</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" href="/home.css">
<script src="https://www.gstatic.com/firebasejs/11.1.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/11.1.0/firebase-auth.js"></script>
<script src="firebase.js"></script>
<script src="main.js"></script>
<script>
function showDropdown(dropdownId) {
    var allDropdowns = document.querySelectorAll('.dropdown');
    allDropdowns.forEach(function(dropdown) {
        dropdown.style.marginBottom = '0';
    });
    
    var dropdowns = document.querySelectorAll('.dropdown-content');
    var currentDropdown = document.getElementById('dropdown' + dropdownId);
    var currentDropdownContent = document.getElementById('content' + dropdownId);
    let dropdownOne = document.getElementById('content1');
    let dropdownTwo = document.getElementById('content2');
    let dropdownThree = document.getElementById('content3');

    if (dropdownId == 1 && dropdownOne.style.display === 'block') {
        dropdownOne.style.display = 'none';
        return;
    } else if (dropdownId == 2 && dropdownTwo.style.display === 'block') {
        dropdownTwo.style.display = 'none';
        return;
    } else if (dropdownId == 3 && dropdownThree.style.display === 'block') {
        dropdownThree.style.display = 'none';
        return;
    } else {
        dropdowns.forEach(function(dropdown) {
            dropdown.style.display = 'none';
        });
        if (currentDropdownContent.style.display === 'block') {
            currentDropdownContent.style.display = 'none';
            currentDropdown.style.marginBottom = '0';
        } else {
            currentDropdownContent.style.display = 'block';
            currentDropdown.style.marginBottom = currentDropdown.offsetHeight + 25 + 'px';
        }
    }
}

document.getElementById('loginButton').addEventListener('click', function() {
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;
        loginUser(email, password);
    });
</script>

<body>

    <ul class="navigation">
        <li><a href="/home.html">Home</a></li>
        <li><a href="/submitEssay/submit.html">Submit Essays</a></li>
        <li><a href="/reviewEssays/review.html">Review Essays</a></li>
        <li><a href="feedback.html">My Feedback</a></li>
        <li style="float:right"><a class="active" href="#profile">Profile</a></li>
    </ul>

    <div style="display:flex;height:100vh;">
        <section>
            <h1 style="color:white;">Username</h1>
            <img src="quietQuillLogo.jpg" alt="Quiet Quill Team logo" class="circle-logo" width="280" height="280">
        </section>
        <section>
            <h1>Activity</h1>
            <div class="dropdown" id="dropdown1">
                <button class="dropbtn" onclick="showDropdown(1)">Submitted Essays</button>
                <div class="dropdown-content" id="content1">
                    <h2><a href="/submitEssay/submit.html" style="color:#0000FF;">Essay 1</a><i> (X/10)</i></h2>
                    <h2><a href="/submitEssay/submit.html" style="color:#0000FF;">Essay 2</a><i> (X/10)</i></h2>
                    <h2><a href="/submitEssay/submit.html" style="color:#0000FF;">Essay 3</a><i> (X/10)</i></h2>
                </div>
            </div>
            <br>
            <div class="dropdown" id="dropdown2">
                <button class="dropbtn" onclick="showDropdown(2)">Feedback History</button>
                <div class="dropdown-content" id="content2">
                    <h2><a href="/feedback.html" style="color:#0000FF;">Feedback 1</a><i> (XX/XX/XXXX)</i></h2>
                    <h2><a href="/feedback.html" style="color:#0000FF;">Feedback 2</a><i> (XX/XX/XXXX)</i></h2>
                    <h2><a href="/feedback.html" style="color:#0000FF;">Feedback 3</a><i> (XX/XX/XXXX)</i></h2>
                </div>
            </div>
            <br>
            <div class="dropdown" id="dropdown3">
                <button class="dropbtn" onclick="showDropdown(3)">Account Settings</button>
                <div class="dropdown-content" id="content3">
                    <h2>Username: </h2>
                    <hr>
                    <h2>Email Address: </h2>
                    <div id="user-email" style="color:black;"></div>
                    <hr>
                    <button><a href="login.html" style="color:white;text-decoration:none;">Log Out</a></button>
                </div>
            </div>
        </section>
    </div>

</body>
</html>